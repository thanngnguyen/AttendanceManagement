@model ErrorViewModel
@{
    ViewData["Title"] = "Lỗi";
}

<div class="glass-bg-pink">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="glass-card text-center">
                    <div class="glass-header">
                        <h2 class="mb-0">
                            <i class="fas fa-exclamation-triangle icon-glow"></i> Đã xảy ra lỗi
                        </h2>
                    </div>
                    <div class="glass-body">
                        <div style="padding: 40px 20px;">
                            <i class="fas fa-times-circle fa-5x icon-glow mb-4" style="color: rgba(239, 68, 68, 0.8);"></i>
                            
                            <h3 class="text-white mb-4">Xin lỗi, có lỗi xảy ra!</h3>
                            
                            <p class="text-glass mb-4">
                                Đã có lỗi xảy ra trong quá trình xử lý yêu cầu của bạn.
                            </p>

                            @if (Model.ShowRequestId)
                            {
                                <div class="glass-box mb-4">
                                    <strong class="text-white">Request ID:</strong> 
                                    <code class="text-glass" style="background: rgba(0,0,0,0.2); padding: 4px 12px; border-radius: 6px;">
                                        @Model.RequestId
                                    </code>
                                </div>
                            }

                            <div class="glass-divider"></div>

                            <div class="d-grid gap-3">
                                <a asp-controller="Home" asp-action="Index" class="btn btn-gradient-primary btn-lg">
                                    <i class="fas fa-home"></i> Về trang chủ
                                </a>
                                <button onclick="window.history.back()" class="btn btn-gradient-secondary">
                                    <i class="fas fa-arrow-left"></i> Quay lại
                                </button>
                            </div>

                            @if (Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT") == "Development")
                            {
                                <div class="glass-alert-warning mt-4 text-start">
                                    <h6 class="text-white mb-2">
                                        <i class="fas fa-code"></i> Development Mode
                                    </h6>
                                    <p class="text-glass-muted small mb-2">
                                        Môi trường Development đang được bật. Điều này hiển thị thông tin chi tiết về lỗi.
                                    </p>
                                    <p class="text-glass-muted small mb-0">
                                        <strong>Lưu ý:</strong> Không nên bật Development mode khi deploy production 
                                        vì có thể làm lộ thông tin nhạy cảm.
                                    </p>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
